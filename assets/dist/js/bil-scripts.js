"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e,t){e.requestAnimationFrame||(e.requestAnimationFrame=function(){return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,i){e.setTimeout(t,1e3/60)}}());var i=[],r=void 0,n=function(){return{startLoad:function(e){var i=e.getElementsByTagName("noscript")[0],r=e.getElementsByTagName("img")[0],a=r.getAttribute("width"),o=r.getAttribute("height"),l=a/o,s=r.clientWidth/l;r.style.height=s+"px";var u=[{key:"alt",value:"alt"},{key:"title",value:"title"},{key:"data-srcset",value:"srcset"},{key:"data-sizes",value:"sizes"},{key:"data-full",value:"full"},{key:"width",value:"width"},{key:"height",value:"height"}],c=t.createElement("img"),f=r.className.replace("bil-blurred","");c.className=f+" bil-full-size";for(var m=0;m<u.length;m++){var d=r.getAttribute(u[m].key);null!==d&&c.setAttribute(u[m].value,d)}var g=r.parentNode;g.insertBefore(c,g.childNodes[0]);var h=new Image;h.onload=function(){c.src=this.src,n.switchToLarge({blurred:r,large:c});var e=void 0;e=setTimeout(function(){n.finishUp({blurred:r,large:c,noscript:i}),clearTimeout(e),h.remove()},1e3)},h.src=r.dataset.full},switchToLarge:function(e){e.large.classList.add("bil-loaded"),e.blurred.classList.add("bil-fadeout")},finishUp:function(e){e.blurred.parentElement.removeChild(e.noscript),e.blurred.parentElement.removeChild(e.blurred),e.large.classList.remove("bil-init"),e.large.classList.remove("bil-full-size"),e.large.classList.remove("bil-loaded"),e.large.parentElement.classList.remove("bil-container")},initLoading:function(e){var i=t.createElement("div");i.className="bil-container";var r=e.outerHTML;r=r+"<noscript>"+r+"</noscript>",i.innerHTML=r,e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),n.startLoad(i)},checkInView:function(t){for(var i=t.offsetTop,r=t.offsetLeft,n=t.offsetWidth,a=t.offsetHeight;t.offsetParent;)t=t.offsetParent,i+=t.offsetTop,r+=t.offsetLeft;return i<e.pageYOffset+e.innerHeight&&r<e.pageXOffset+e.innerWidth&&i+a>e.pageYOffset&&r+n>e.pageXOffset},checkImages:function(){if(0==i.length)return e.cancelAnimationFrame(r),!1;i=i.filter(function(e){var t=n.checkInView(e);return t&&n.initLoading(e),!t}),r=e.requestAnimationFrame(n.checkImages)},init:function(t){if("object"!==(void 0===t?"undefined":_typeof(t))||0===t.length)return!1;i=[].slice.call(t),r=e.requestAnimationFrame(n.checkImages)}}}();n.init(t.querySelectorAll(".bil-init"))}(window,document);